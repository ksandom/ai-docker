#!/bin/bash
# Run the container in the current directory.

. ./shared/libs/container.sh

checkModelPath
createCache

set -x
# TODO Make this more elegant.
if ! docker exec -it -v "$modelPath:$internalModelPath:z" -v "$optDir:/opt:z" -v .:/workspace:z "$containerName" /bin/bash; then
    docker run -it --entrypoint /bin/bash -p "$port:$port" -v "$modelPath:$internalModelPath:z" -v "$optDir:/opt:z" -v .:/inside:z "$containerName"
fi
